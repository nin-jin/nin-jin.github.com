<xsl:stylesheet xmlns="http://www.w3.org/1999/xhtml" xmlns:doc="https://github.com/nin-jin/doc" xmlns:html="http://www.w3.org/1999/xhtml" xmlns:so="https://github.com/nin-jin/so" xmlns:wc="https://github.com/nin-jin/wc" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0"><xsl:output method="html"></xsl:output><xsl:template match=" @* | node() "><xsl:copy><xsl:apply-templates select=" @* "></xsl:apply-templates><xsl:apply-templates select=" node() "></xsl:apply-templates></xsl:copy></xsl:template><xsl:template match=" processing-instruction() "></xsl:template><xsl:output method="html"></xsl:output><xsl:template match=" html:include "><xsl:apply-templates select=" document( ., . ) / * / node() "></xsl:apply-templates></xsl:template><xsl:template match=" / html:html "><xsl:apply-templates select="node() "></xsl:apply-templates></xsl:template><xsl:template match=" wc:demo/text() "><textarea><xsl:copy></xsl:copy></textarea></xsl:template><xsl:template match=" wc:js-test/text() "><textarea class=" wc_js-test_textarea"><xsl:copy></xsl:copy></textarea></xsl:template><xsl:template match=" doc:pack "><wc:vmenu_branch><xsl:apply-templates></xsl:apply-templates></wc:vmenu_branch></xsl:template><xsl:template match=" doc:file "><a class=" reset=true " href="{ doc:link }"><wc:vmenu_leaf><xsl:value-of select=" doc:title "></xsl:value-of></wc:vmenu_leaf></a></xsl:template><xsl:variable name="wc:root-uri"><xsl:value-of select=" substring-before( substring-after( /processing-instruction()[ name() = 'xml-stylesheet' ], 'href=&quot;' ), '&quot;' ) "></xsl:value-of><xsl:text>/../..</xsl:text></xsl:variable><xsl:template match=" /doc:root "><html><head><title><xsl:value-of select=" . // html:h1[ 1 ] "></xsl:value-of></title><meta content="text/html;charset=utf-8" http-equiv="content-type"></meta><meta content="IE=edge, chrome=1" http-equiv="X-UA-Compatible"></meta><link href="{$wc:root-uri}/-mix+doc/index.css" rel="stylesheet"></link><script src="{$wc:root-uri}/-mix+doc/index.js?">//</script></head><body><xsl:copy><xsl:apply-templates select=" @* "></xsl:apply-templates><wc:desktop><wc:sidebar wc:sidebar_align="left"><wc:vmenu_root><xsl:apply-templates select=" document( '../-mix/index.doc.xml', / ) / * / node() "></xsl:apply-templates></wc:vmenu_root></wc:sidebar><wc:spacer><wc:paper><wc:spacer><xsl:apply-templates></xsl:apply-templates></wc:spacer></wc:paper></wc:spacer><wc:footer>
                        License: <a href="http://ru.wikipedia.org/wiki/%D0%9E%D0%B1%D1%89%D0%B5%D1%81%D1%82%D0%B2%D0%B5%D0%BD%D0%BD%D0%BE%D0%B5_%D0%B4%D0%BE%D1%81%D1%82%D0%BE%D1%8F%D0%BD%D0%B8%D0%B5">Public Domain</a>
                    </wc:footer></wc:desktop></xsl:copy></body></html></xsl:template><xsl:template match=" so:Error "><wc:spacer><wc:paper><wc:error><xsl:apply-templates select=" text() "></xsl:apply-templates></wc:error></wc:paper></wc:spacer></xsl:template><xsl:template match=" so:gist "><wc:spacer><wc:top-tool><wc:top-tool_pane><form action="?" method="MOVE"><wc:top-tool_item><input name="gist" placeholder="gist" value="{ so:gist_name }"></input></wc:top-tool_item><wc:top-tool_hidden><input name="from" type="hidden" value="{ so:gist_uri }"></input><input type="submit" value="Изменить"></input></wc:top-tool_hidden></form><xsl:apply-templates mode="so:gist_permalink" select="."></xsl:apply-templates></wc:top-tool_pane></wc:top-tool><wc:paper><wc:spacer><wc:net-bridge wc:net-bridge_field="content" wc:net-bridge_resource="{ so:gist_uri }"><wc:editor wc:editor_hlight="md"><xsl:apply-templates></xsl:apply-templates></wc:editor></wc:net-bridge></wc:spacer></wc:paper></wc:spacer></xsl:template><xsl:template match=" so:gist " mode="so:gist_permalink"></xsl:template><xsl:template match=" so:gist[ so:gist_uri ] " mode="so:gist_permalink"><wc:top-tool_item><wc:permalink title="Ссылка на эту запись"><a href="{ so:gist_uri }">#</a></wc:permalink></wc:top-tool_item></xsl:template><xsl:template match=" so:gist_uri "></xsl:template><xsl:template match=" so:gist_name "></xsl:template><xsl:template match=" so:gist_author "></xsl:template><xsl:template match=" so:gist_content "><xsl:apply-templates></xsl:apply-templates></xsl:template><xsl:template match=" so:gist_aside "><xsl:apply-templates mode="so:gist_aside"></xsl:apply-templates></xsl:template><xsl:template match=" html:include " mode="so:gist_aside"><xsl:apply-templates mode="so:gist_aside" select=" document( @href, . ) / * "></xsl:apply-templates></xsl:template><xsl:template match=" so:gist " mode="so:gist_aside"><wc:sidebar class=" align=left "><wc:net-bridge wc:net-bridge_resource="{ so:gist_uri }"><wc:editor class=" hlight=md "><xsl:apply-templates select=" so:gist_content / node() "></xsl:apply-templates></wc:editor></wc:net-bridge></wc:sidebar></xsl:template><xsl:template match=" so:gist_creator "><form action="?" method="GET"><input name="gist" placeholder="gist" value="{ so:gist_name }"></input><input name="author" type="hidden" value="{ so:gist_author }"></input><input type="submit" value="Создать"></input></form></xsl:template><xsl:template match=" so:page "><html><head><title xml:space="preserve">
                    <xsl:value-of select=" so:page_title "></xsl:value-of>
                </title><meta content="text/html;charset=utf-8" http-equiv="content-type"></meta><meta content="IE=edge, chrome=1" http-equiv="X-UA-Compatible"></meta><xsl:apply-templates mode="so:page_special" select=" so:page_stylesheet "></xsl:apply-templates></head><body><wc:desktop><a href="?gist"><wc:logo>Gist!</wc:logo></a><xsl:apply-templates mode="so:page_special" select=" so:page_aside "></xsl:apply-templates><xsl:apply-templates select=" node()[ name() ] "></xsl:apply-templates><xsl:apply-templates mode="so:page_special" select=" so:page_script "></xsl:apply-templates></wc:desktop></body></html></xsl:template><xsl:template match=" so:page_stylesheet "></xsl:template><xsl:template match=" so:page_stylesheet " mode="so:page_special"><link href="{ . }" rel="stylesheet"></link></xsl:template><xsl:template match=" so:page_script "></xsl:template><xsl:template match=" so:page_script " mode="so:page_special"><script src="{ . }">//</script></xsl:template><xsl:template match=" so:page_title "></xsl:template><xsl:template match=" so:page_aside "></xsl:template><xsl:template match=" so:page_aside " mode="so:page_special"><wc:sidebar wc:sidebar_align="right"><wc:editor wc:editor_hlight="tags"><xsl:text> </xsl:text></wc:editor></wc:sidebar></xsl:template><xsl:template match=" so:path "><wc:path><xsl:apply-templates></xsl:apply-templates></wc:path></xsl:template><xsl:template match=" so:path_item "><xsl:text>/</xsl:text><wc:path_item><a href="{ so:path_link }"><xsl:apply-templates select=" so:path_title "></xsl:apply-templates></a></wc:path_item></xsl:template><xsl:template match=" so:path_title "><xsl:apply-templates></xsl:apply-templates></xsl:template></xsl:stylesheet>