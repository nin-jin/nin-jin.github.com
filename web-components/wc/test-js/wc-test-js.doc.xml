<?xml-stylesheet href="../-mix+doc/index.xsl" type="text/xsl" ?>
<doc:root
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:wc="https://github.com/nin-jin/wc"
    xmlns:doc="https://github.com/nin-jin/doc"
    >

    <h1>wc:test-js</h1>

    <p>Виджет для тестирования яваскрипт кода. Берёт своё текстовое содержимое и исполняет в отдельном потоке. Если результат исполнения ложный или было брошено исключение, то краснеет. Иначе - зеленеет. Попутно, производит подсветку кода. В следующих тестах зелёным подсвечиваются только выражения возвращающие истину.</p>

    <h2>Позитивные тесты</h2>
    <p>
        <wc:test-js>
            _done()
        </wc:test-js>
        <wc:test-js>
            _done( true )
        </wc:test-js>
        <wc:test-js>
            _done( false, false )
        </wc:test-js>
        <wc:test-js> _done( this, window ) </wc:test-js>
        <wc:test-js class=" timeout=100 ">
            $jam.$schedule
            (   50
            ,   function(){
                    _done()
                }
            )
        </wc:test-js>
    </p>
    
    <h2>Негативные тесты</h2>
    <p>
        <wc:test-js> throw new Error( 'sample error' ) </wc:test-js>
        <wc:test-js> true= false </wc:test-js>
        <wc:test-js> (!) </wc:test-js>
        <wc:test-js>
            _done( void 0 )
        </wc:test-js>
        <wc:test-js>
            _done( true, 'true' )
        </wc:test-js>
        <wc:test-js>
            return
            _done()
        </wc:test-js>
        <wc:test-js>
            var val
        </wc:test-js>
        <wc:test-js class=" timeout=100 ">
            var val
        </wc:test-js>
        <wc:test-js class=" timeout=100 ">
            $jam.$schedule( 50, function(){
                _done( false )
            })
        </wc:test-js>
        <wc:test-js class=" timeout=50 ">
            $jam.$schedule( 100, function(){
                _done( true )
            })
        </wc:test-js>
        <wc:test-js class=" timeout=100 ">
            $jam.$schedule( 50, function(){
                throw 321
            })
        </wc:test-js>

    </p>

</doc:root>
